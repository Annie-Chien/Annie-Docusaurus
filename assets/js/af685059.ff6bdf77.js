"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[771],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>m});var a=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function p(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var o=a.createContext({}),s=function(e){var n=a.useContext(o),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},c=function(e){var n=s(e.components);return a.createElement(o.Provider,{value:n},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},y=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,l=e.originalType,o=e.parentName,c=p(e,["components","mdxType","originalType","parentName"]),u=s(t),y=r,m=u["".concat(o,".").concat(y)]||u[y]||d[y]||l;return t?a.createElement(m,i(i({ref:n},c),{},{components:t})):a.createElement(m,i({ref:n},c))}));function m(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var l=t.length,i=new Array(l);i[0]=y;var p={};for(var o in n)hasOwnProperty.call(n,o)&&(p[o]=n[o]);p.originalType=e,p[u]="string"==typeof e?e:r,i[1]=p;for(var s=2;s<l;s++)i[s]=t[s];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}y.displayName="MDXCreateElement"},7620:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>i,default:()=>d,frontMatter:()=>l,metadata:()=>p,toc:()=>s});var a=t(7462),r=(t(7294),t(3905));const l={title:"TS Utility Types"},i=void 0,p={unversionedId:"TypeScript/utility",id:"TypeScript/utility",title:"TS Utility Types",description:"Awaited",source:"@site/docs/TypeScript/utility.md",sourceDirName:"TypeScript",slug:"/TypeScript/utility",permalink:"/Annie-Docusaurus/docs/TypeScript/utility",draft:!1,tags:[],version:"current",frontMatter:{title:"TS Utility Types"},sidebar:"docSidebar",previous:{title:"TS Basics \u57fa\u790e\u89c0\u5ff5",permalink:"/Annie-Docusaurus/docs/TypeScript/basics"}},o={},s=[{value:"<code>Awaited&lt;Type&gt;</code>",id:"awaitedtype",level:2},{value:"<code>Partial&lt;Type&gt;</code>",id:"partialtype",level:2},{value:"<code>Required&lt;Type&gt;</code>",id:"requiredtype",level:2},{value:"<code>Readonly&lt;Type&gt;</code>",id:"readonlytype",level:2},{value:"<code>Record&lt;Keys, Type&gt;</code>",id:"recordkeys-type",level:2},{value:"<code>Pick&lt;Type, Keys&gt;</code>",id:"picktype-keys",level:2},{value:"<code>Omit&lt;Type, Keys&gt;</code>",id:"omittype-keys",level:2},{value:"<code>Exclude&lt;UnionType, ExcludedMembers&gt;</code>",id:"excludeuniontype-excludedmembers",level:2},{value:"<code>Extract&lt;Type, Union&gt;</code>",id:"extracttype-union",level:2},{value:"<code>NonNullable&lt;Type&gt;</code>",id:"nonnullabletype",level:2},{value:"<code>Parameters&lt;Type&gt;</code>",id:"parameterstype",level:2}],c={toc:s},u="wrapper";function d(e){let{components:n,...t}=e;return(0,r.kt)(u,(0,a.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"awaitedtype"},(0,r.kt)("inlineCode",{parentName:"h2"},"Awaited<Type>")),(0,r.kt)("p",null,"\u7528\u65bc\u89e3\u958b Promise Type \u4e26\u7372\u53d6\u5176\u56de\u50b3\u503c\u7684\u578b\u5225\u3002\u6bd4\u8f03\u7279\u5225\u7684\u662f\uff0c\u7576\u9047\u5230\u5de2\u72c0 Promise Type\uff0cAwaited \u53ef\u4ee5\u7372\u53d6\u6700\u5167\u5c64\u89e3\u6790\u5f8c\u7684\u503c\u7684\u578b\u5225\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Usage")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"/* Baisc */\ntype MyPromiseType = Promise<string>;\ntype ResolvedType = Awaited<MyPromiseType>; // string\n\n/* Nested Promise */\ntype NestedPromise = Promise<Promise<number>>;\ntype ResolvedNestedType = Awaited<NestedPromise>; //number;\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Example")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},'async function fetchData(): Promise<{ name: string; age: number }> {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve({ name: "John", age: 30 });\n    }, 1000);\n  });\n}\n\ntype FetchDataType = ReturnType<typeof fetchData>; // Promise<{ name: string, age: number }>\ntype ResolvedType = Awaited<FetchDataType>; // { name: string, age: number }\n\nasync function displayData() {\n  const data: ResolvedType = await fetchData();\n  console.log(data.name); // John\n  console.log(data.age); // 30\n}\n')),(0,r.kt)("h2",{id:"partialtype"},(0,r.kt)("inlineCode",{parentName:"h2"},"Partial<Type>")),(0,r.kt)("p",null,"\u7528\u65bc\u5c07\u67d0\u500b\u578b\u5225\u7684\u6240\u6709\u5c6c\u6027\u8a2d\u70ba\u53ef\u9078\uff08optional\uff09\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Usage")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"interface User {\n  name: string;\n  age: number;\n  email: string;\n}\n\ntype PartialUser = Partial<User>;\n/** \n\u7b49\u540c\u65bc\ntype PartialUser = {\n   name?: string | undefined;\n    age?: number | undefined;\n   email?: string | undefined;\n} \n**/\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Example")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},'const updateUser = (user: User, updatedValues: Partial<User>): User => {\n  return { ...user, ...updatedValues };\n};\n\nconst user: User = {\n  name: "Annie",\n  age: 18,\n  email: "annie@example.com",\n};\n\nconst updatedUser = updateUser(user, { age: 25 });\n')),(0,r.kt)("h2",{id:"requiredtype"},(0,r.kt)("inlineCode",{parentName:"h2"},"Required<Type>")),(0,r.kt)("p",null,"\u8207 ",(0,r.kt)("inlineCode",{parentName:"p"},"Partial<Type>")," \u76f8\u53cd\uff0c\u7528\u65bc\u5c07\u67d0\u500b\u578b\u5225\u7684\u6240\u6709\u5c6c\u6027\u8a2d\u70ba\u5fc5\u8981\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Usage")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"interface User {\n  name: string;\n  age?: number;\n  email?: string;\n}\n\ntype RequiredUser = Required<User>;\n\n/** \n\u7b49\u540c\u65bc\ntype RequiredUser = {\n   name: string;\n    age: number;\n   email: string;\n} \n**/\n")),(0,r.kt)("h2",{id:"readonlytype"},(0,r.kt)("inlineCode",{parentName:"h2"},"Readonly<Type>")),(0,r.kt)("p",null,"\u7528\u65bc\u5c07\u67d0\u500b\u578b\u5225\u7684\u6240\u6709\u5c6c\u6027\u8a2d\u70ba\u552f\u8b80\uff0c\u610f\u5373\u5728\u5275\u5efa\u9019\u7a2e\u578b\u5225\u7684\u7269\u4ef6\u5f8c\uff0c\u4f60\u4e0d\u80fd\u4fee\u6539\u5b83\u7684\u4efb\u4f55\u5c6c\u6027\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Usage")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"interface User {\n  name: string;\n  age: number;\n  email: string;\n}\n\ntype ReadonlyUser = Readonly<User>;\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Example")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},'const user: ReadonlyUser = {\n  name: "Annie",\n  age: 18,\n  email: "annie@example.com",\n};\n\n// \u5617\u8a66\u4fee\u6539\u5c6c\u6027\u6703\u5831\u932f\nuser.name = "Ann"; // Error: Cannot assign to \'name\' because it is a read-only property.\n')),(0,r.kt)("h2",{id:"recordkeys-type"},(0,r.kt)("inlineCode",{parentName:"h2"},"Record<Keys, Type>")),(0,r.kt)("p",null,"\u7528\u65bc\u5275\u5efa\u4e00\u500b\u7269\u4ef6\u578b\u5225\uff0c\u5176\u5c6c\u6027 key \u70ba\u6307\u5b9a\u7684 Keys\uff0c\u5c6c\u6027 value \u7684\u578b\u5225\u70ba\u6307\u5b9a\u7684 Type\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Usage")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},'type DogName = "miffy" | "cheeto" | "owen";\n\ninterface DogInfo {\n  age: number;\n  breed: string;\n}\n\nconst myDogs: Record<DogName, DogInfo> = {\n  miffy: { age: 10, breed: "Bulldog" },\n  cheeto: { age: 5, breed: "Labrador" },\n  owen: { age: 16, breed: "Husky" },\n};\n')),(0,r.kt)("h2",{id:"picktype-keys"},(0,r.kt)("inlineCode",{parentName:"h2"},"Pick<Type, Keys>")),(0,r.kt)("p",null,"\u7528\u65bc\u5f9e\u4e00\u500b\u5c0d\u7269\u4ef6\u578b\u5225\u4e2d\u6311\u9078\u51fa\u90e8\u5206\u5c6c\u6027 Keys\uff0c\u4e26\u751f\u6210\u4e00\u500b\u53ea\u5305\u542b\u9019\u4e9b\u5c6c\u6027\u7684\u7269\u4ef6\u578b\u5225\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Usage")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},'interface User {\n  id: number;\n  name: string;\n  email: string;\n  age: number;\n}\n\ntype BasicUserInfo = Pick<User, "name" | "email">;\n\nconst basicUser: BasicUserInfo = {\n  name: "Alice",\n  email: "alice@example.com",\n};\n')),(0,r.kt)("h2",{id:"omittype-keys"},(0,r.kt)("inlineCode",{parentName:"h2"},"Omit<Type, Keys>")),(0,r.kt)("p",null,"\u7528\u4f86\u5f9e\u4e00\u500b\u7269\u4ef6\u578b\u5225\u4e2d\u6392\u9664\u6307\u5b9a\u7684\u5c6c\u6027 Keys\uff0c\u4e26\u751f\u6210\u4e00\u500b\u4e0d\u5305\u542b\u9019\u4e9b\u5c6c\u6027\u7684\u7269\u4ef6\u578b\u5225\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Usage")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},'interface User {\n  id: number;\n  name: string;\n  age: number;\n  email: string;\n}\n\ntype UserWithoutEmail = Omit<User, "email">;\n\nconst userWithoutEmail: UserWithoutEmail = {\n  id: 0,\n  name: "Alice",\n  age: 18,\n};\n')),(0,r.kt)("h2",{id:"excludeuniontype-excludedmembers"},(0,r.kt)("inlineCode",{parentName:"h2"},"Exclude<UnionType, ExcludedMembers>")),(0,r.kt)("p",null,"\u7528\u4f86\u5f9e UnionType \u4e2d\u6392\u9664\u6307\u5b9a\u7684\u578b\u5225\uff0c\u4e26\u751f\u6210\u4e00\u500b\u65b0\u7684\u578b\u5225\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},'type MyUnionType = "apple" | "banana" | "orange" | "grape";\ntype ExcludeOrange = Exclude<MyUnionType, "orange">;\n\n//\u7b49\u540c\u65bc tpye ExcludeOrange = "apple" | "banana" | "grape"\n')),(0,r.kt)("h2",{id:"extracttype-union"},(0,r.kt)("inlineCode",{parentName:"h2"},"Extract<Type, Union>")),(0,r.kt)("p",null,"\u7528\u4f86\u5f9e UnionType \u4e2d\u63d0\u53d6\u8207 Union \u5339\u914d\u7684\u578b\u5225\uff0c\u4e26\u751f\u6210\u4e00\u500b\u65b0\u7684\u578b\u5225\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},'type MyFriendName = "Abby" | "Ben" | "Charlie";\ntype ExtractAbby = Extract<MyFriendName, "Abby">;\n//\u7b49\u540c\u65bc type ExtractAbby = "Abby"\n\ntype Size = { w: 50; h: 100 } | { w: 100; h: 200 } | { w: 10; h: 10 };\ntype ExtractSize = Extract<Size, { w: 10 }>;\n//\u7b49\u540c\u65bc type ExtractSize = {w: 10, h: 10}\n')),(0,r.kt)("h2",{id:"nonnullabletype"},(0,r.kt)("inlineCode",{parentName:"h2"},"NonNullable<Type>")),(0,r.kt)("p",null,"\u7528\u4f86\u6392\u9664 Type \u88e1\u7684 null \u53ca undefined\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"type T1 = NonNullable<string[] | null | undefined>;\n//\u7b49\u540c\u65bc type T1 = string[]\n")),(0,r.kt)("h2",{id:"parameterstype"},(0,r.kt)("inlineCode",{parentName:"h2"},"Parameters<Type>")),(0,r.kt)("p",null,"\u7528\u4f86\u751f\u6210\u4e00\u500b\u5c07\u51fd\u5f0f\u53c3\u6578\u578b\u5225\u96c6\u7d50\u5728\u4e00\u8d77\u7684 Tuple\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"function f1(arg: { a: number; b: string }): void;\n\ntype T1 = Parameters<typeof f1>;\n\n/** \n  type T3 = [arg: {\n    a: number;\n    b: string;\n}]\n*/\n")))}d.isMDXComponent=!0}}]);